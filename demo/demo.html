<!DOCTYPE html>
<html>
    <head>
        <title>CodeMirror Infusion Demo</title>
        <meta charset="UTF-8" />

        <link rel="stylesheet" href="../node_modules/codemirror/lib/codemirror.css" />
        <link rel="stylesheet" href="../node_modules/codemirror/theme/monokai.css" />
        <link rel="stylesheet" href="../node_modules/codemirror/addon/lint/lint.css" />
        <link rel="stylesheet" href="demo.css" />

        <script src="../node_modules/jquery/dist/jquery.js"></script>
        <script src="../node_modules/codemirror/lib/codemirror.js"></script>
        <script src="../node_modules/codemirror/mode/javascript/javascript.js"></script>
        <script src="../node_modules/codemirror/addon/lint/lint.js"></script>
        <script src="../node_modules/codemirror/addon/lint/json-lint.js"></script>
        <script src="../node_modules/jsonlint/lib/jsonlint.js"></script>

        <script src="../node_modules/infusion/src/framework/core/js/Fluid.js"></script>
        <script src="../node_modules/infusion/src/framework/core/js/FluidDocument.js"></script>
        <script src="../node_modules/infusion/src/framework/core/js/FluidDOMUtilities.js"></script>
        <script src="../node_modules/infusion/src/framework/core/js/FluidDebugging.js"></script>
        <script src="../node_modules/infusion/src/framework/core/js/FluidIoC.js"></script>
        <script src="../node_modules/infusion/src/framework/core/js/DataBinding.js"></script>
        <script src="../node_modules/infusion/src/framework/core/js/ModelTransformation.js"></script>
        <script src="../node_modules/infusion/src/framework/core/js/ModelTransformationTransforms.js"></script>
        <script src="../node_modules/infusion/src/framework/core/js/FluidView.js"></script>

        <script src="../src/codemirror-infusion.js"></script>
    </head>

    <body>
        <h1>CodeMirror Infusion JSON Editor</h1>
        <div id="editor"></div>

        <script>
            window.cm = fluid.lintingCodeMirror("#editor", {
                mergePolicy: {
                    "value": "noexpand"
                },

                mode: "application/json",
                autoCloseBrackets: true,
                matchBrackets: true,
                smartIndent: true,
                theme: "monokai",
                indentUnit: 4,
                tabSize: 4,
                lineNumbers: true,
                gutters: ["CodeMirror-lint-markers"],
                autofocus: true,
                value: "{\n    \"cat\": {\n        \"says\": \"meow!\"\n    }\n}\n",
                codeMirrorOpts: [
                    "lineNumbers",
                    "mode",
                    "gutters",
                    "autoCloseBrackets",
                    "tabSize",
                    "indentUnit",
                    "theme",
                    "smartIndent",
                    "matchBrackets",
                    "autofocus",
                    "value"
                ]
            });
        </script>
    </body>
</html>
